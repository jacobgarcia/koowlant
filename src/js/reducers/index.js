import { combineReducers } from 'redux'

const dumbZones = [
  {
    name: 'Centro',
    _id: '4d128b6ea794fc13a8000001',
    status: [
      { name: 'alerts', value: 0.04 },
      { name: 'warnings', value: 0.11 }
    ],
    positions: [
      [21.739091217718574, -97.55859375000001],
      [22.51255695405145, -100.06347656250001],
      [23.483400654325642, -103.57910156250001],
      [21.90227796666864, -103.88671875000001],
      [20.838277806058933, -104.19433593750001],
      [22.105998799750566, -104.58984375000001],
      [20.797201434307, -105.16113281250001],
      [19.973348786110602, -105.51269531250001],
      [17.602139123350852, -102.96386718750001],
      [16.88865978738161, -99.71191406250001],
      [17.266727823520533, -97.9541015625],
      [18.895892559415024, -98.48144531250001],
      [18.47960905583197, -96.6796875],
      [18.854310361889812, -95.4931640625]
    ],
    subzones: [
      {
        _id: '4d1288sh2394fc13a8087301',
        positions: [],
        sites: [
          {
            _id: '4d1288s8sh94fc9sj1h37301',
            position: [],
            sensors: []
          }
        ]
      }
    ],
    sites: []
  }, {
    name: 'Norte',
    _id: '4d128b6ea794fc13a8004301',
    status: [
      { name: 'alerts', value: 0.051 },
      { name: 'warnings', value: 0.04 }
    ],
    sites: [],
    subzones: [
      {
        _id: '234h293842342ji3423j4',
        name: 'Nuevo LeÃ³n',
        status: [
          { name: 'alerts', value: 0.04 },
          { name: 'warnings', value: 0.11 }
        ],
        sites: [
          {_id: 'akjsndjkasnd9i23', position: [25.720735134412106, -100.31616210937501], name: '3T'},
          {_id: 'akjs3j5435nd9i23', position: [25.71083691964062, -99.25048828125], name: '1D'},
          {_id: 'akjs3j5435nd9i24', position: [24.856534339310674, -99.56359863281251], name: '9R'},
          {_id: 'akjs3j5435nd9i25', position: [26.730893022137383, -99.90966796875001], name: '3Y'}
        ],
        positions: [
          [27.63487379134253, -100.00854492187501],
          [27.771051193172273, -100.19531250000001],
          [27.664068965384516, -100.38208007812501],
          [27.42053815128712, -100.40405273437501],
          [27.322974947245704, -100.711669921875],
          [27.176469131898898, -100.82153320312501],
          [27.039556602163195, -100.79956054687501],
          [27.11781284232125, -100.667724609375],
          [27.059125784374068, -100.55786132812501],
          [26.814266197561487, -100.53588867187501],
          [26.578702269100557, -100.72265625000001],
          [26.735799020431674, -100.755615234375],
          [26.37218544169559, -101.18408203125001],
          [25.888878582127084, -100.85449218750001],
          [25.809781975840405, -100.85449218750001],
          [25.3241665257384, -100.36010742187501],
          [25.20494115356912, -100.21728515625001],
          [25.18505888358067, -100.32714843750001],
          [25.24469595130604, -100.63476562500001],
          [25.175116531621764, -100.79956054687501],
          [24.966140159912975, -100.81054687500001],
          [24.896402266558727, -100.733642578125],
          [24.836595553891183, -100.81054687500001],
          [24.447149589730834, -100.74462890625001],
          [24.407137917727667, -100.57983398437501],
          [24.226928664976377, -100.63476562500001],
          [24.126701958681682, -100.52490234375001],
          [23.905926927314724, -100.57983398437501],
          [23.71495350699028, -100.458984375],
          [23.42292845506526, -100.49194335937501],
          [23.392681978613, -100.44799804687501],
          [23.17066382710224, -100.458984375],
          [23.160563309048314, -100.37109375],
          [23.271627053918287, -100.37109375],
          [23.311990950585997, -100.21728515625001],
          [23.24134610238615, -100.21728515625001],
          [23.221154981846556, -100.08544921875001],
          [23.29181053244191, -100.06347656250001],
          [23.352342597581107, -100.12939453125001],
          [23.392681978613, -100.06347656250001],
          [23.38259828417886, -99.88769531250001],
          [23.56398712845123, -99.94262695312501],
          [23.75518176611264, -99.86572265625],
          [23.745125865762933, -99.59106445312501],
          [23.87579191610102, -99.437255859375],
          [24.126701958681682, -99.64599609375001],
          [24.317065306876046, -99.59106445312501],
          [24.4971463205719, -99.62402343750001],
          [24.4971463205719, -99.72290039062501],
          [24.587090339209634, -99.72290039062501],
          [24.617057340809524, -99.58007812500001],
          [24.647017162630366, -99.481201171875],
          [24.746831298412058, -99.47021484375001],
          [24.79670834894575, -99.27246093750001],
          [24.776759933219164, -99.17358398437501],
          [24.90636723790802, -99.15161132812501],
          [25.035838555635017, -99.16259765625],
          [25.11544539706197, -99.04174804687501],
          [25.06569718553588, -98.97583007812501],
          [25.46311452925943, -98.40454101562501],
          [25.492868271257127, -98.5693359375],
          [26.02717014049738, -98.58032226562501],
          [26.05678288577881, -98.81103515625001],
          [25.987674852384966, -98.89892578125001],
          [26.11598592533351, -99.03076171875001],
          [26.07652055985697, -99.16259765625],
          [26.254009699865737, -99.19555664062501],
          [26.342652809380603, -99.40429687500001],
          [26.60817437403311, -99.39331054687501],
          [26.676913083105454, -99.63500976562501],
          [26.853479438420024, -99.569091796875],
          [26.92206991673282, -99.755859375],
          [27.088473156555896, -99.64599609375001],
          [27.244862521497282, -99.73388671875],
          [27.42053815128712, -99.755859375],
          [27.518015241965692, -99.94262695312501],
          [27.566721430409707, -99.93164062500001],
          [27.63487379134253, -99.76684570312501],
          [27.761329874505233, -99.86572265625]
        ]
      }
    ],
    positions: [
      [21.12549763660629, -104.19433593750001],
      [22.26876403907398, -104.50195312500001],
      [21.657428197370653, -105.11718750000001],
      [25.958044673317843, -109.42382812500001],
      [26.43122806450644, -109.0283203125],
      [28.613459424004414, -111.66503906250001],
      [31.27855085894653, -113.07128906250001],
      [31.690781806136822, -114.74121093750001],
      [32.32427558887655, -114.78515625000001],
      [31.27855085894653, -110.830078125],
      [31.316101383495624, -108.19335937500001],
      [31.765537409484374, -108.14941406250001],
      [31.802892586706786, -106.21582031250001],
      [30.600093873550072, -104.98535156250001],
      [29.611670115197406, -104.54589843750001],
      [28.8831596093235, -102.8759765625],
      [29.76437737516313, -102.52441406250001],
      [29.76437737516313, -101.25000000000001],
      [28.304380682962783, -100.23925781250001],
      [26.27371402440643, -98.74511718750001],
      [25.760319754713887, -97.16308593750001],
      [21.98380141738471, -97.77832031250001],
      [23.845649887659352, -103.62304687500001]
    ]
  }, {
    name: 'Californias',
    _id: '4d128b6ea794fc13a8093001',
    status: [
      { name: 'alerts', value: 0.0123 },
      { name: 'warnings', value: 0.142 }
    ],
    sites: [
      { _id: '4d1288sh2394fc13a8087301' },
      { _id: '4d1288sh2394fc13a8087301' },
      { _id: '4d1288sh2394fc13a8087301' },
      { _id: '4d1288sh2394fc13a8087301' },
      { _id: '4d1288sh2394fc13a8087301' },
      { _id: '4d1288sh2394fc13a8087301' },
      { _id: '4d1288sh2394fc13a8087301' },
      { _id: '4d1288sh2394fc13a8087301' }
    ],
    subzones: [
      { _id: '4d1288sh2394fc13a8037301', name: '3-B' },
      { _id: '4d1288sh2394fc13a8017301', name: '3-B' },
      { _id: '4d1288sh2394fc13a8077301', name: '3-T' }
    ],
    positions: [
      [32.62087018318113, -114.96093750000001],
      [32.47269502206151, -116.89453125000001],
      [29.76437737516313, -115.62011718750001],
      [28.57487404744697, -113.90625],
      [27.800209937418252, -114.16992187500001],
      [27.72243591897343, -115.04882812500001],
      [26.78484736105119, -113.73046875000001],
      [26.23430203240673, -112.54394531250001],
      [24.726874870506972, -112.0166015625],
      [22.87744046489713, -109.90722656250001],
      [23.483400654325642, -109.24804687500001],
      [25.24469595130604, -110.65429687500001],
      [27.955591004642553, -112.54394531250001],
      [29.305561325527698, -113.2470703125],
      [30.221101852485987, -114.60937500000001],
      [31.50362930577303, -115.04882812500001]
    ]
  }, {
    name: 'Sur-',
    _id: '4d128b6ea794fc13a8000101',
    status: [
      { name: 'alerts', value: 0.0251 },
      { name: 'warnings', value: 0.212 }
    ],
    sites: [],
    subzones: [],
    positions: [
      [18.60460138845525, -98.17382812500001],
      [17.392579271057766, -97.73437500000001],
      [16.762467717941604, -99.49218750000001],
      [15.623036831528264, -96.7236328125],
      [16.214674588248556, -94.08691406250001],
      [14.477234210156519, -92.19726562500001],
      [16.13026201203477, -91.62597656250001],
      [16.172472808397515, -90.39550781250001],
      [17.18277905643184, -91.1865234375],
      [17.769612247142653, -90.92285156250001],
      [18.562947442888312, -91.7578125],
      [18.187606552494625, -94.43847656250001],
      [18.729501999072138, -95.36132812500001],
      [18.271086109608877, -96.6796875]
    ]
  }, {
    name: 'Peninsula',
    _id: '4d128b6ea794fc13a8200001',
    status: [
      { name: 'alerts', value: 0.3311 },
      { name: 'warnings', value: 0.1224 }
    ],
    sites: [],
    subzones: [],
    positions: [
      [18.562947442888312, -91.45019531250001],
      [17.853290114098012, -90.703125],
      [17.853290114098012, -88.94531250000001],
      [18.47960905583197, -87.97851562500001],
      [19.93204130611555, -87.5830078125],
      [21.453068633086783, -86.66015625000001],
      [21.49396356306447, -88.59375000000001],
      [21.12549763660629, -90.21972656250001],
      [19.973348786110602, -90.30761718750001],
      [19.062117883514652, -90.92285156250001]
    ]
  }
]

const dumbReports = [
  {
    _id: '9223432eu32eni32ej2',
    timeStamp: 1504458241188,
    zone: {
      _id: '4d128b6ea794fc13a8200001',
      name: 'Centro'
    },
    subZone: {
      _id: '4d1287bea794fca3a8200001',
      name: '3B'
    },
    site: {
      _id: '4d1287bea794fca3a8us63h1',
      position: [],
      name: '12'
    },
    type: 0,
    severity: 2,
    sensor: {
      _id: '4d127sy0a794fca3a8200001',
      type: 3,
      data: [],
      state: {
        value: 0.9,
        type: 0
      }
    },
    checked: false
  },
  {
    _id: '923neu32dahsu32ej2',
    timeStamp: 1504712109305,
    zone: {
      _id: '4d128b6ea794fc13a8200001',
      name: 'Californias'
    },
    subZone: {
      _id: '4d1287bea794fca3a8200001',
      name: '2T'
    },
    site: {
      _id: '4d1287bea794fca3a8us63h1',
      position: [],
      name: '92'
    },
    type: 2,
    severity: 1,
    sensor: {
      _id: '4d127sy0a794fca3a8200001',
      type: 3,
      data: [],
      state: {
        value: 0.9,
        type: 0
      }
    },
    checked: true
  }
]

const dumbAdministrators = [
  {
    zone: 'siadjh9sa9djsad09asj9di',
    administrators: [
      {
        _id: '3id034jdo430jorko34r43',
        name: '',
        surname: '',
        fullName: '',
        access: 2
      },
      {
        _id: '3id032423430j3k234r43',
        name: '',
        surname: '',
        fullName: '',
        access: 2
      }
    ]
  }
]

function credentials(state = {}, action) {
  switch (action.type) {
    case 'SET_USER':
      return {
        user: action.user,
        token: action.token,
        authenticated: true
      }
    case 'LOG_OUT':
      return {}
    default:
      return state
  }
}

function zones(state = dumbZones, action) {
  switch (action.type) {
    case 'SET_ZONE':
    return [...state, {
      name: action.name,
      positions: action.positions
    }]
    case 'SET_SUBZONE':
    return [...state]
    default:
    return state
  }
}

function administrators(state = dumbAdministrators, action) {
  switch (action.type) {
    default:
      return state
  }
}

function reports(state = dumbReports, action) {
  switch (action.type) {
    case 'SET_REPORTS':
      return [
        ...action.reports
      ]
    case 'DISMISS_REPORT':
      return state.map(report =>
        (report._id === action.report)
          ? {...report, dismissed: true}
          : report
      )
    default:
      return state
  }
}

const appReducer = combineReducers({
  credentials,
  zones,
  reports,
  administrators
})

export default appReducer
